---
import site from '@data/site.config';
import Section from './Section';
---
<Section client:visible id="projects" title="Projects">
  <div class="grid sm:grid-cols-1 md:grid-cols-2 gap-4 sm:gap-5">
    {site.projects.map((p) => (
      <article class="card p-4 sm:p-5 flex flex-col gap-3 hover:scale-[1.01] transition-transform">
        {p.image && <img src={p.image} alt={p.name} class="rounded-lg border border-white/10 w-full h-auto object-cover max-h-56" loading="lazy" />}
        <div class="space-y-2">
          <h3 class="text-base sm:text-lg font-semibold break-words">{p.name}</h3>
          <p class="opacity-90 text-sm sm:text-base leading-relaxed break-words">{p.description}</p>
          {p.highlights && (
            <ul class="list-disc list-inside space-y-1 text-sm opacity-90">
              {p.highlights.map(h => <li class="break-words">{h}</li>)}
            </ul>
          )}
          {p.stack && (
            <div class="flex flex-wrap gap-2">
              {p.stack.map(s => <span class="text-xs px-2 py-1 rounded bg-white/50 dark:bg-white/10 border border-white/20 whitespace-nowrap">{s}</span>)}
            </div>
          )}
        </div>
        <div class="mt-auto flex gap-3 sm:gap-4 text-sm pt-2 border-t border-white/10">
          {p.url && <a class="underline hover:text-gray-700 dark:hover:text-gray-300 transition" href={p.url} target="_blank" rel="noopener noreferrer">ðŸ”— Live</a>}
          {p.repo && <a class="underline hover:text-gray-700 dark:hover:text-gray-300 transition" href={p.repo} target="_blank" rel="noopener noreferrer">ðŸ’» Code</a>}
        </div>
      </article>
    ))}
  </div>
</Section>
